{"version":3,"file":"UHS-Author.jsx","sources":["../../src/polyfill/array/forEach.js","../../src/polyfill/array/every.js","../../src/projects/UHSAuthor/ui.ts","../../src/utils/Javascript/general.ts","../../src/utils/typeCheck.ts","../../src/utils/GetEntity/getEntity.ts","../../src/utils/GetEntity/getSelectedEntity.ts","../../src/projects/UHSAuthor/setFolder.ts","../../src/projects/ReName/rename.ts","../../src/utils/item.ts","../../src/projects/Marker/utils.ts","../../src/projects/UHSAuthor/utils.ts","../../src/projects/UHSAuthor/createComp.ts","../../src/projects/UHSAuthor/index.ts"],"sourcesContent":["/*\n * forEach Polyfill\n *\n * 2015-12-27\n *\n * By Feifei Hang, http://feifeihang.info\n * Public Domain.\n * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n */\n\"use strict\";\n(function() {\n  if (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(callback, thisArg) {\n      if (typeof callback !== \"function\") {\n        throw new TypeError(callback + \" is not a function\");\n      }\n      var array = this;\n      thisArg = thisArg || this;\n      for (var i = 0, l = array.length; i !== l; ++i) {\n        callback.call(thisArg, array[i], i, array);\n      }\n    };\n  }\n})();\n","if (!Array.prototype.every) {\n  Array.prototype.every = function(callbackfn, thisArg) {\n    \"use strict\";\n    var T, k;\n\n    if (this == null) {\n      throw new TypeError(\"this is null or not defined\");\n    }\n\n    // 1. O は、this を引数として ToObject に渡し、実行した結果です。\n    var O = Object(this);\n\n    // 2. lenValue は、\"length\" を引数として O の Get 内部メソッドを実行した結果です。\n    // 3. len を ToUint32(lenValue) とします。\n    var len = O.length >>> 0;\n\n    // 4. IsCallable(callbackfn) が false の場合、TypeError 例外がスローされます。\n    if (typeof callbackfn !== \"function\") {\n      throw new TypeError();\n    }\n\n    // 5. thisArg が与えられた場合、T は thisArg となり、さもなくば T は undefined となります。\n    if (arguments.length > 1) {\n      T = thisArg;\n    }\n\n    // 6. k を 0 とします。\n    k = 0;\n\n    // 7. k < len が成り立つ間、繰り返します。\n    while (k < len) {\n      var kValue;\n\n      // a. Pk を ToString(k) とします。\n      //    これは in 演算子の左オペランドについて暗黙的です。\n      // b. kPresent は、Pk を引数として O の HasProperty 内部メソッドを実行した結果です。\n      //   このステップは c と組み合わせられます。\n      // c. kPresent が true の場合、続きます。\n      if (k in O) {\n        // i. kValue は、Pk を引数として O の Get 内部メソッドを実行した結果です。\n        kValue = O[k];\n\n        // ii. testResult は、this 値としての T と、kValue、k、0 を含む引数リストを\n        //     ともなって、callbackfn の Call 内部メソッドを実行した結果です。\n        var testResult = callbackfn.call(T, kValue, k, O);\n\n        // iii. ToBoolean(testResult) が false の場合、false を返します。\n        if (!testResult) {\n          return false;\n        }\n      }\n      k++;\n    }\n    return true;\n  };\n}\n","import globalThis from \"globalThis\";\n\nexport const dialog: Panel = globalThis;\n\n// DIALOG\n// ======\ndialog.text = \"UHS_Author\";\ndialog.orientation = \"column\";\ndialog.alignChildren = [\"left\", \"top\"];\ndialog.spacing = 10;\ndialog.margins = 16;\n\n// setFolderGroup\n// ======\nexport const setFolderGroup = dialog.add(\"group\", undefined, {\n  name: \"setFolderGroup\"\n});\nsetFolderGroup.orientation = \"row\";\nsetFolderGroup.alignChildren = [\"left\", \"center\"];\nsetFolderGroup.spacing = 10;\nsetFolderGroup.margins = 0;\n\nexport const setFolderButton = setFolderGroup.add(\n  \"button\",\n  undefined,\n  undefined,\n  {\n    name: \"setFolderButton\"\n  }\n);\nsetFolderButton.text = \"set Root Folder\";\n\nexport const setFolderResult = setFolderGroup.add(\n  \"statictext\",\n  undefined,\n  undefined,\n  {\n    name: \"setFolderResult\"\n  }\n);\nsetFolderResult.text = \"default\";\nsetFolderResult.enabled = false;\n\n// replaceMethodGroup\n// ======\nexport const replaceMethodGroup = dialog.add(\"group\", undefined, {\n  name: \"replaceMethodGroup\"\n});\nreplaceMethodGroup.orientation = \"row\";\nreplaceMethodGroup.alignChildren = [\"left\", \"center\"];\nreplaceMethodGroup.spacing = 10;\nreplaceMethodGroup.margins = 0;\n\nexport const simpleReplaceRadio = replaceMethodGroup.add(\n  \"radiobutton\",\n  undefined,\n  undefined,\n  {\n    name: \"simpleReplaceRadio\"\n  }\n);\nsimpleReplaceRadio.text = \"simple\";\n\nexport const advancedReplaceRadio = replaceMethodGroup.add(\n  \"radiobutton\",\n  undefined,\n  undefined,\n  {\n    name: \"advancedReplaceRadio\"\n  }\n);\nadvancedReplaceRadio.text = \"advanced\";\n\n// replaceNameGroup\n// ======\nexport const replaceNameGroup = dialog.add(\"group\", undefined, {\n  name: \"replaceNameGroup\"\n});\nreplaceNameGroup.orientation = \"row\";\nreplaceNameGroup.alignChildren = [\"left\", \"center\"];\nreplaceNameGroup.spacing = 10;\nreplaceNameGroup.margins = 0;\n\nexport const searchInputDesc = replaceNameGroup.add(\n  \"statictext\",\n  undefined,\n  undefined,\n  {\n    name: \"searchInputDesc\"\n  }\n);\nsearchInputDesc.text = \"search\";\n\nexport const searchInputText = replaceNameGroup.add(\n  \"edittext\",\n  undefined,\n  undefined,\n  {\n    name: \"search\"\n  }\n);\nsearchInputText.text = \"\";\n(searchInputText.preferredSize as Dimension).width = 240;\n\n// replaceInputGroup\n// ======\nexport const replaceInputGroup = dialog.add(\"group\", undefined, {\n  name: \"replaceInputGroup\"\n});\nreplaceInputGroup.orientation = \"row\";\nreplaceInputGroup.alignChildren = [\"left\", \"center\"];\nreplaceInputGroup.spacing = 10;\nreplaceInputGroup.margins = 0;\n\nexport const replaceInputDesc = replaceInputGroup.add(\n  \"statictext\",\n  undefined,\n  undefined,\n  {\n    name: \"replaceInputDesc\"\n  }\n);\nreplaceInputDesc.text = \"replace\";\n\nexport const replaceInputText = replaceInputGroup.add(\n  \"edittext\",\n  undefined,\n  undefined,\n  {\n    name: \"search\"\n  }\n);\nreplaceInputText.text = \"\";\n(replaceInputText.preferredSize as Dimension).width = 240;\n\n// createButtonGroup\n// ======\nexport const createButtonGroup = dialog.add(\"group\", undefined, {\n  name: \"createButtonGroup\"\n});\ncreateButtonGroup.orientation = \"column\";\ncreateButtonGroup.alignChildren = [\"left\", \"center\"];\ncreateButtonGroup.spacing = 10;\ncreateButtonGroup.margins = 0;\n\nexport const createMarginCompButton = createButtonGroup.add(\n  \"button\",\n  undefined,\n  undefined,\n  {\n    name: \"createMarginCompButton\"\n  }\n);\ncreateMarginCompButton.text = \"02_余白\";\n\nexport const create01CompButton = createButtonGroup.add(\n  \"button\",\n  undefined,\n  undefined,\n  {\n    name: \"create01CompButton\"\n  }\n);\ncreate01CompButton.text = \"01_コンポ\";\n\nexport const createAt1CompButton = createButtonGroup.add(\n  \"button\",\n  undefined,\n  undefined,\n  {\n    name: \"createAtCompButton\"\n  }\n);\ncreateAt1CompButton.text = \"@コンポ\";\n","import {\n  isCompItem,\n  isFolderItem,\n  isFootageItem,\n  isAVLayer,\n  isFileSource,\n  isSolidSource,\n  isProperty,\n  isPropertyGroup,\n  isObject\n} from \"../typeCheck\";\n\nexport const times = (\n  step: number,\n  callback: (index: number) => boolean | null | undefined | void,\n  reverse: boolean = false\n): void => {\n  if (reverse) {\n    for (let i = step; i > 0; i--) {\n      if (callback(i)) {\n        break;\n      } else {\n        continue;\n      }\n    }\n  } else {\n    for (let i = 1; i <= step; i++) {\n      if (callback(i)) {\n        break;\n      } else {\n        continue;\n      }\n    }\n  }\n};\n\nexport const setTimeout = (callback: () => void, time: number) => {\n  $.sleep(time);\n  callback();\n};\n\nexport const computeDurationWithMsec = (ms: number): string => {\n  const h = parseInt(String(Math.floor(ms / 3600000) + 100).substring(1));\n  const m = parseInt(\n    String(Math.floor((ms - h * 3600000) / 60000) + 100).substring(1)\n  );\n  const s = parseInt(\n    String(Math.round((ms - h * 3600000 - m * 60000) / 1000) + 100).substring(1)\n  );\n  return h + \":\" + m + \":\" + s;\n};\n","export const isFolderItem = (item: any): item is FolderItem => {\n  return item instanceof FolderItem;\n};\n\nexport const isCompItem = (item: any): item is CompItem => {\n  return item instanceof CompItem;\n};\n\nexport const isFootageItem = (item: any): item is FootageItem => {\n  return item instanceof FootageItem;\n};\n\nexport const isAVItem = (item: any): item is CompItem | FootageItem => {\n  return isCompItem(item) || isFootageItem(item);\n};\n\nexport const isAnyItem = (item: any): item is $T.ADBE.AnyItem => {\n  return isCompItem(item) || isFolderItem(item) || isFootageItem(item);\n};\n\nexport const isAVLayer = (layer: any): layer is AVLayer => {\n  return layer instanceof AVLayer;\n};\n\nexport const isCameraLayer = (layer: any): layer is CameraLayer => {\n  return layer instanceof CameraLayer;\n};\n\nexport const isLightLayer = (layer: any): layer is LightLayer => {\n  return layer instanceof LightLayer;\n};\n\nexport const isShapeLayer = (layer: any): layer is ShapeLayer => {\n  return layer instanceof ShapeLayer;\n};\n\nexport const isTextLayer = (layer: any): layer is TextLayer => {\n  return layer instanceof TextLayer;\n};\n\nexport const isAnyLayer = (layer: any): layer is $T.ADBE.AnyLayer => {\n  return (\n    isAVLayer(layer) ||\n    isCameraLayer(layer) ||\n    isLightLayer(layer) ||\n    isShapeLayer(layer) ||\n    isTextLayer(layer)\n  );\n};\n\nexport const isFileSource = (source: any): source is FileSource => {\n  return source instanceof FileSource;\n};\n\nexport const isSolidSource = (source: any): source is SolidSource => {\n  return source instanceof SolidSource;\n};\n\nexport const isPlaceholderSource = (\n  source: any\n): source is PlaceholderSource => {\n  return source instanceof PlaceholderSource;\n};\n\nexport const isAnySource = (\n  source: any\n): source is FileSource | SolidSource | PlaceholderSource => {\n  return (\n    isFileSource(source) || isSolidSource(source) || isPlaceholderSource(source)\n  );\n};\n\nexport const isProperty = (property: any): property is Property => {\n  return property instanceof Property;\n};\n\nexport const isPropertyGroup = (property: any): property is PropertyGroup => {\n  return property instanceof PropertyGroup;\n};\n\nexport const isMaskPropertyGroup = (\n  property: any\n): property is MaskPropertyGroup => {\n  return property instanceof MaskPropertyGroup;\n};\n\nexport const isAnyProperty = (\n  property: any\n): property is $T.ADBE.AnyProperty => {\n  return (\n    isProperty(property) ||\n    isPropertyGroup(property) ||\n    isMaskPropertyGroup(property)\n  );\n};\n\nexport const isTextDocument = (value: any): value is TextDocument => {\n  return value instanceof TextDocument;\n};\n\nexport const isShape = (value: any): value is Shape => {\n  return value instanceof Shape;\n};\n\nexport const isMarkerValue = (value: any): value is MarkerValue => {\n  return value instanceof MarkerValue;\n};\n\nexport const isBasicPropertyValue = (\n  value: any\n): value is $T.Mat.BasicValue => {\n  const isBasicPropertyArray =\n    isArray(value) &&\n    ((value.length === 2 && isNumber(value[0]) && isNumber(value[1])) ||\n      (value.length === 3 &&\n        isNumber(value[0]) &&\n        isNumber(value[1]) &&\n        isNumber(value[2])) ||\n      (value.length === 4 &&\n        isNumber(value[0]) &&\n        isNumber(value[1]) &&\n        isNumber(value[2]) &&\n        isNumber(value[3])));\n  return (\n    isUndefined(value) ||\n    isBoolean(value) ||\n    isNumber(value) ||\n    isBasicPropertyArray\n  );\n};\n\nexport const isPropertyValue = (value: any): value is PropertyValue => {\n  return (\n    isTextDocument(value) ||\n    isShape(value) ||\n    isMarkerValue(value) ||\n    isBasicPropertyValue(value)\n  );\n};\n\nexport const isObject = (data: any): data is { [key: string]: any } => {\n  return Object.prototype.toString.call(data) === \"[object Object]\";\n};\n\nexport const isArray = (data: any): data is any[] => {\n  return Array.isArray(data);\n};\n\nexport const isFunction = (data: any): data is Function => {\n  return typeof data === \"function\";\n};\n\nconst posinf = Number.POSITIVE_INFINITY;\nconst neginf = Number.NEGATIVE_INFINITY;\n\nexport const isNumber = (data: any): data is number => {\n  return typeof data === \"number\" && data > neginf && data < posinf;\n};\n\nexport const isUndefined = (data: any): data is undefined => {\n  return data === undefined;\n};\n\nexport const isBoolean = (data: any): data is Boolean => {\n  return data === false || data === true;\n};\n\nexport const isString = (data: any): data is string => {\n  return typeof data === \"string\";\n};\n\nexport const isCompItems = (items: any): items is CompItem[] => {\n  return items.every(isCompItem);\n};\n","import { __Error__ } from \"../initialize\";\nimport { times } from \"../Javascript/general\";\nimport {\n  isCompItem,\n  isFolderItem,\n  isFootageItem,\n  isAVLayer,\n  isFileSource,\n  isSolidSource,\n  isProperty,\n  isPropertyGroup,\n  isObject,\n  isAnyLayer,\n  isAnyProperty,\n  isMaskPropertyGroup,\n  isAnyItem,\n  isTextLayer,\n  isShapeLayer\n} from \"../typeCheck\";\nimport {} from \"../System/fileSys\";\n\nexport const getActiveItem = (): $T.ADBE.AnyItem | null => {\n  const item = app.project.activeItem;\n  return (item as $T.ADBE.AnyItem) || null;\n};\n\nexport const getActiveCompItem = (): CompItem | null => {\n  const item = getActiveItem();\n  return item instanceof CompItem ? item : null;\n};\n\nexport const getChildItems = (\n  folder: FolderItem = app.project.rootFolder,\n  callback?: (item: $T.ADBE.AnyItem) => boolean\n): $T.ADBE.AnyItem[] => {\n  const items: $T.ADBE.AnyItem[] = [];\n  times(folder.numItems, index => {\n    const item = folder.item(index) as $T.ADBE.AnyItem;\n    if (callback && !callback(item)) return;\n    items.push(item);\n  });\n  return items;\n};\n\nexport const getChildItem = (\n  folder: FolderItem = app.project.rootFolder,\n  callback?: (item: $T.ADBE.AnyItem) => boolean\n): $T.ADBE.AnyItem | null => {\n  let item: $T.ADBE.AnyItem | null = null;\n  times(folder.numItems, index => {\n    const target = folder.item(index) as $T.ADBE.AnyItem;\n    if (callback && !callback(target)) return;\n    item = target;\n    return true;\n  });\n  return item;\n};\n\nexport const findItemWithName = (\n  name: string,\n  parent: FolderItem = app.project.rootFolder\n): $T.ADBE.AnyItem | null => {\n  let item: $T.ADBE.AnyItem | null = null;\n  getChildItems(parent).forEach(current => {\n    if (current.name === name) {\n      if (isAnyItem(current)) item = current;\n      return true;\n    }\n  });\n  return item;\n};\n\nexport const findFolderItemWithName = (\n  name: string,\n  parent: FolderItem = app.project.rootFolder\n): FolderItem | null => {\n  const item = findItemWithName(name, parent);\n  if (!isFolderItem(item)) {\n    __Error__(\n      $.line,\n      `findFolderItemWithName / not found FolderItem / name: ${name} / parent: ${\n        parent.name\n      } / item: ${item ? item.name : \"null\"}`\n    );\n    return null;\n  }\n  return item;\n};\n\nexport const findCompItemWithName = (\n  name: string,\n  parent: FolderItem = app.project.rootFolder\n): CompItem | null => {\n  const item = findItemWithName(name, parent);\n  if (!isCompItem(item)) {\n    __Error__(\n      $.line,\n      `findCompItemWithName / not found CompItem / name: ${name} / parent: ${\n        parent.name\n      } / item: ${item ? item.name : \"null\"}`\n    );\n    return null;\n  }\n  return item;\n};\n\nexport const findFootageItemWithName = (\n  name: string,\n  parent: FolderItem = app.project.rootFolder\n): FootageItem | null => {\n  const item = findItemWithName(name, parent);\n  if (!isFootageItem(item)) {\n    __Error__(\n      $.line,\n      `findFootageItemWithName / not found FootageItem / name: ${name} / parent: ${\n        parent.name\n      } / item: ${item ? item.name : \"null\"}`\n    );\n    return null;\n  }\n  return item;\n};\n\nexport const findLayerWithName = (\n  name: string,\n  comp: CompItem\n): $T.ADBE.AnyLayer | null => {\n  const layer = comp.layer(name) as $T.ADBE.AnyLayer | null;\n  return layer ? layer : null;\n};\n\nexport const findAVLayerWithName = (\n  name: string,\n  comp: CompItem\n): AVLayer | null => {\n  const layer = findLayerWithName(name, comp);\n  if (!isAVLayer(layer)) {\n    __Error__(\n      $.line,\n      `findAVLayerWithName / not found AVLayer / name: ${name} / comp: ${\n        comp.name\n      } / layer: ${layer ? layer.name : \"null\"}`\n    );\n    return null;\n  }\n  return layer;\n};\n\nexport const findTextLayerWithName = (\n  name: string,\n  comp: CompItem\n): TextLayer | null => {\n  const layer = findLayerWithName(name, comp);\n  if (!isTextLayer(layer)) {\n    __Error__(\n      $.line,\n      `findTextLayerWithName / not found TextLayer / name: ${name} / comp: ${\n        comp.name\n      } / layer: ${layer ? layer.name : \"null\"}`\n    );\n    return null;\n  }\n  return layer;\n};\n\nexport const findPropertyWithName = (\n  name: string,\n  parent: $T.ADBE.AnyLayer | PropertyGroup | MaskPropertyGroup\n): $T.ADBE.AnyProperty | null => {\n  const property = parent.property(name) as $T.ADBE.AnyProperty | null;\n  return property ? property : null;\n};\n\nexport const getLayers = (\n  comp: CompItem,\n  options: {\n    fromBottom?: boolean;\n    callback?: (layer: $T.ADBE.AnyLayer) => boolean;\n  } = {}\n): $T.ADBE.AnyLayer[] => {\n  const layers: $T.ADBE.AnyLayer[] = [];\n  times(comp.numLayers, index => {\n    const layer = comp.layer(index) as $T.ADBE.AnyLayer;\n    if (options.callback && options.callback(layer)) return;\n    layers.push(layer);\n  });\n  return options.fromBottom ? layers.reverse() : layers;\n};\n\nexport const getAllItems = (callback?: (item: $T.ADBE.AnyItem) => boolean) => {\n  const items: $T.ADBE.AnyItem[] = [];\n  times(app.project.numItems, i => {\n    const item = app.project.item(i) as $T.ADBE.AnyItem;\n    if (callback && callback(item)) return;\n    items.push(item);\n  });\n  return items;\n};\n","import { getActiveItem, getActiveCompItem } from \"./getEntity\";\n\nexport const getSelectedItems = (): $T.ADBE.AnyItem[] | null => {\n  const items = app.project.selection;\n  return items[0] ? (items as $T.ADBE.AnyItem[]) : null;\n};\n\nexport const getSelectedLayers = (\n  compItem: CompItem\n): $T.ADBE.AnyLayer[] | null => {\n  const layers = compItem.selectedLayers as $T.ADBE.AnyLayer[];\n  return layers[0] ? layers : null;\n};\n\nexport const getSelectedProperties = (\n  compItem: CompItem\n): $T.ADBE.AnyProperty[] | null => {\n  const properties = compItem.selectedProperties as\n    | $T.ADBE.AnyProperty[]\n    | null;\n  return properties && properties[0] ? properties : null;\n};\n\nexport const getSelectedPropertiesFromActive = ():\n  | $T.ADBE.AnyProperty[]\n  | null => {\n  const compItem = getActiveCompItem();\n  return compItem && getSelectedProperties(compItem);\n};\n\nexport const getSelectedLayersFromActive = (): $T.ADBE.AnyLayer[] | null => {\n  const compItem = getActiveCompItem();\n  return compItem && getSelectedLayers(compItem);\n};\n","import { getChildItem } from \"../../utils/GetEntity/getEntity\";\nimport { getSelectedItems } from \"../../utils/GetEntity/getSelectedEntity\";\nimport { isFolderItem } from \"../../utils/typeCheck\";\nimport { setFolderResult } from \"./ui\";\n\nconst inputBlank = () => {\n  setFolderResult.text = \"\";\n};\n\nexport const setFolder = (item?: FolderItem | undefined) => {\n  let tempFolder: $T.ADBE.AnyItem | null = null;\n  let rootFolder: $T.ADBE.AnyItem | null = null;\n\n  if (item) {\n    rootFolder = item;\n  } else {\n    rootFolder = app.project.rootFolder;\n  }\n\n  tempFolder = getChildItem(rootFolder, item => {\n    return item.name === \"*\" && isFolderItem(item);\n  });\n  if (!tempFolder) {\n    inputBlank();\n    alert(\"【*】フォルダがありません。\");\n    return;\n  }\n  const asteriskFolder = tempFolder as FolderItem;\n\n  tempFolder = getChildItem(asteriskFolder, item => {\n    return item.name === \"@\" && isFolderItem(item);\n  });\n  if (!tempFolder) {\n    inputBlank();\n    alert(\"【@】フォルダがありません。\");\n    return;\n  }\n  const atFolder = tempFolder as FolderItem;\n\n  tempFolder = getChildItem(rootFolder, item => {\n    return item.name === \"work\" && isFolderItem(item);\n  });\n  if (!tempFolder) {\n    inputBlank();\n    alert(\"【work】フォルダがありません。\");\n    return;\n  }\n  const workFolder = tempFolder as FolderItem;\n\n  tempFolder = getChildItem(workFolder, item => {\n    return item.name === \"_sozai\" && isFolderItem(item);\n  });\n  if (!tempFolder) {\n    inputBlank();\n    alert(\"【_sozai】フォルダがありません。\");\n    return;\n  }\n  const sozaiFolder = tempFolder as FolderItem;\n\n  tempFolder = getChildItem(sozaiFolder, item => {\n    return item.name === \"01_コンポ\" && isFolderItem(item);\n  });\n  if (!tempFolder) {\n    inputBlank();\n    alert(\"【01_コンポ】フォルダがありません。\");\n    return;\n  }\n  const compFolder = tempFolder as FolderItem;\n\n  tempFolder = getChildItem(sozaiFolder, item => {\n    return item.name === \"02_余白\" && isFolderItem(item);\n  });\n  if (!tempFolder) {\n    inputBlank();\n    alert(\"【02_余白】フォルダがありません。\");\n    return;\n  }\n  const marginFolder = tempFolder as FolderItem;\n\n  return {\n    at: atFolder,\n    comp: compFolder,\n    margin: marginFolder\n  };\n};\n","export const escapeRegex = (str: string): string => {\n  return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n};\n\nexport const escapeGlob = (str: string): string => {\n  return str.replace(/[-\\/\\\\^$+.()|[\\]{}]/g, \"\\\\$&\");\n};\n\nexport const simpleGlobToRegexp = (glob: string): RegExp => {\n  const escapedString = escapeGlob(glob);\n\n  let offsetIncrement = 0;\n  const regexpString = escapedString.replace(\n    /(\\*|\\?+)/g,\n    (match, string, offset) => {\n      // Since offset is performed on the replaced string, the increment of the replaced string is added to offset.\n      const trueOffset = offset - offsetIncrement;\n      if (match === \"*\") {\n        if (\n          trueOffset - offsetIncrement > 0 &&\n          escapedString.substr(trueOffset - 1 - offsetIncrement, 1) === \"\\\\\"\n        ) {\n          offsetIncrement += 1;\n          return \"\\\\*\";\n        }\n        offsetIncrement += 3;\n        return \"(.*)\";\n      }\n      if (/\\?+/.test(match)) {\n        if (\n          trueOffset > 0 &&\n          escapedString.substr(trueOffset - 1, 1) === \"\\\\\"\n        ) {\n          if (match.length > 1) {\n            offsetIncrement += 3;\n            return `\\\\?(${match.substr(1).replace(/\\?/g, \".\")})`;\n          }\n          offsetIncrement += 1;\n          return \"\\\\?\";\n        }\n        offsetIncrement += 2;\n        return `(${match.replace(/\\?/g, \".\")})`;\n      }\n      return \"\";\n    }\n  );\n\n  return new RegExp(regexpString);\n};\n\nexport const renameWithSimpleGlob = (\n  targetString: string,\n  glob: string,\n  replaceStr: string\n): string => {\n  const regexp = simpleGlobToRegexp(glob);\n  const newString = targetString.replace(regexp, replaceStr);\n  return newString;\n};\n","import { __Error__ } from \"./initialize\";\nimport { times } from \"./Javascript/general\";\nimport {\n  isAVLayer,\n  isCompItem,\n  isFolderItem,\n  isFootageItem,\n  isFileSource,\n  isSolidSource,\n  isObject\n} from \"./typeCheck\";\nimport { getLayers, getAllItems } from \"./GetEntity/getEntity\";\n\nexport const createFolderItem = (\n  parent: FolderItem,\n  name: string\n): FolderItem => {\n  return parent.items.addFolder(name);\n};\n\nexport const createCompItem = (\n  parent: FolderItem,\n  params: {\n    name?: string;\n    width?: number;\n    height?: number;\n    pixelAspect?: number;\n    duration?: number;\n    frameRate?: number;\n  } = {}\n): CompItem => {\n  const name = params.name || \"comp\";\n  const width = params.width || 1280;\n  const height = params.height || 720;\n  const pixelAspect = params.pixelAspect || 1.0;\n  const duration = params.duration || 30.0;\n  const frameRate = params.frameRate || 30.0;\n  const newComp = parent.items.addComp(\n    name,\n    width,\n    height,\n    pixelAspect,\n    9999.0,\n    frameRate\n  );\n  newComp.duration = duration;\n  return newComp;\n};\n\nexport const unselectAllItems = (): void => {\n  getAllItems().forEach(item => {\n    if (item.selected) item.selected = false;\n  });\n};\n","import { getActiveItem } from \"../../utils/GetEntity/getEntity\";\nimport {\n  getSelectedItems,\n  getSelectedLayersFromActive\n} from \"../../utils/GetEntity/getSelectedEntity\";\nimport { times } from \"../../utils/Javascript/general\";\nimport { isCompItem } from \"../../utils/typeCheck\";\n\nexport const removeAllMarkers = (markerProp: Property) => {\n  times(\n    markerProp.numKeys,\n    i => {\n      markerProp.removeKey(i);\n    },\n    true\n  );\n};\n\ntype ExtractedMarkers = [number, PropertyValue][];\n\nexport const getMarkers = (markerProp: Property): ExtractedMarkers => {\n  const markers: ExtractedMarkers = [];\n\n  times(markerProp.numKeys, i => {\n    markers.push([markerProp.keyTime(i), markerProp.keyValue(i)]);\n  });\n  return markers;\n};\n\nexport const setMarkers = (\n  sourceProp: Property,\n  targetProp: Property\n): void => {\n  const markers = getMarkers(sourceProp);\n  markers.forEach((_, i) => {\n    targetProp.setValueAtTime(markers[i][0], markers[i][1]);\n  });\n};\n\nexport const getTopLayerMarkers = (item: CompItem): ExtractedMarkers | null => {\n  const sourceLayer = item.layer(1);\n  if (sourceLayer.property(\"marker\") === null) {\n    alert(\"There are no markers.\");\n    return null;\n  }\n  const sourceMarkers = sourceLayer.property(\"marker\") as Property;\n  if (sourceMarkers.numKeys === 0) {\n    alert(\"There are 0 markers.\");\n    return null;\n  }\n\n  return getMarkers(sourceMarkers);\n};\n","import { setMarkers } from \"../Marker/utils\";\n\nexport const setMarker = (sourceComp: CompItem, targetComp: CompItem) => {\n  if (sourceComp.markerProperty) {\n    setMarkers(sourceComp.markerProperty, targetComp.markerProperty);\n    setMarkers(\n      sourceComp.markerProperty,\n      targetComp.layer(1).property(\"marker\") as Property\n    );\n  } else {\n    setMarkers(\n      sourceComp.layer(1).property(\"marker\") as Property,\n      targetComp.layer(1).property(\"marker\") as Property\n    );\n  }\n};\n","import { getChildItem } from \"../../utils/GetEntity/getEntity\";\nimport { getSelectedItems } from \"../../utils/GetEntity/getSelectedEntity\";\nimport { isFolderItem, isCompItem, isCompItems } from \"../../utils/typeCheck\";\nimport * as win from \"./ui\";\nimport { renameWithSimpleGlob } from \"../ReName/rename\";\nimport { createCompItem } from \"../../utils/item\";\nimport { setMarker } from \"./utils\";\n\nexport const createMarginComp = (folder: FolderItem): void => {\n  const targetItems = getSelectedItems();\n  if (!targetItems || !isCompItems(targetItems)) {\n    alert(\"【01_余白】コンポジションを選択してください。\");\n    return;\n  }\n\n  targetItems.forEach(comp => {\n    let name: string = \"\";\n    if (win.simpleReplaceRadio.value) {\n      name = comp.name.replace(\n        win.searchInputText.text,\n        win.replaceInputText.text\n      );\n    }\n    if (win.advancedReplaceRadio.value) {\n      name = renameWithSimpleGlob(\n        comp.name,\n        win.searchInputText.text,\n        win.replaceInputText.text\n      );\n    }\n\n    const compProps = {\n      name: name + \"_余白\",\n      width: comp.width,\n      height: comp.height,\n      duration: comp.duration\n    };\n\n    const newComp = createCompItem(folder, compProps);\n    newComp.bgColor = comp.bgColor;\n\n    const triggerName = newComp.name.split(\"_\")[2];\n\n    const sizeName =\n      compProps.width === 1200 && compProps.height === 1000\n        ? \"全画面\"\n        : compProps.width === 1200 && compProps.height === 600\n        ? \"半画面\"\n        : \"※画面サイズエラー\";\n    newComp.comment = `${triggerName}_${sizeName}_余白`;\n\n    newComp.layers.add(comp);\n\n    setMarker(comp, newComp);\n\n    comp.selected = false;\n    newComp.selected = true;\n  });\n};\n\nexport const create01Comp = (folder: FolderItem): void => {\n  const targetItems = getSelectedItems();\n  if (!targetItems || !isCompItems(targetItems)) {\n    alert(\"【01_コンポ】コンポジションを選択してください。\");\n    return;\n  }\n\n  targetItems.forEach(comp => {\n    const name = comp.name.replace(\"_余白\", \"\");\n\n    const compProps = {\n      name: name,\n      width: comp.width - 200,\n      height: comp.height - 200,\n      duration: comp.duration\n    };\n\n    const newComp = createCompItem(folder, compProps);\n    newComp.bgColor = comp.bgColor;\n\n    newComp.comment = comp.comment.replace(\"_余白\", \"\");\n\n    const layer = newComp.layers.add(comp);\n    layer.position.setValue([compProps.width / 2, compProps.height / 2, 0]);\n\n    setMarker(comp, newComp);\n\n    comp.selected = false;\n    newComp.selected = true;\n  });\n};\n\nexport const createAtComp = (folder: FolderItem): void => {\n  const targetItems = getSelectedItems();\n  if (!targetItems || !isCompItems(targetItems)) {\n    alert(\"【@コンポ】コンポジションを選択してください。\");\n    return;\n  }\n\n  targetItems.forEach(comp => {\n    const name = \"@\" + comp.name;\n\n    const compProps = {\n      name: name,\n      width: 1000,\n      height: 800,\n      duration: comp.duration\n    };\n\n    const newComp = createCompItem(folder, compProps);\n    newComp.bgColor = comp.bgColor;\n\n    const commentArray = comp.comment.split(\"_\");\n    newComp.comment =\n      commentArray[0].toUpperCase() + commentArray.slice(1).join(\"_\");\n\n    const layer = newComp.layers.add(comp);\n    layer.position.setValue([comp.width / 2, comp.height / 2, 0]);\n\n    setMarker(comp, newComp);\n\n    comp.selected = false;\n    newComp.selected = true;\n  });\n};\n","import \"../../polyfill/array/forEach\";\nimport \"../../polyfill/array/every\";\nimport * as win from \"./ui\";\nimport { getSelectedItems } from \"../../utils/GetEntity/getSelectedEntity\";\nimport { isFolderItem } from \"../../utils/typeCheck\";\nimport { setFolder } from \"./setFolder\";\n\nimport { createMarginComp, create01Comp, createAtComp } from \"./createComp\";\n\nlet atFolder: FolderItem;\nlet compFolder: FolderItem;\nlet marginFolder: FolderItem;\n\nconst main = () => {\n  // initialize\n  win.advancedReplaceRadio.value = true;\n  win.searchInputText.text = \"work_*\";\n  win.replaceInputText.text = \"E504_BAR狙え_$1\";\n\n  // main\n  let folders = setFolder();\n  if (!folders) {\n    alert(\"ルートフォルダがありません。\");\n    return;\n  }\n  atFolder = folders.at;\n  compFolder = folders.comp;\n  marginFolder = folders.margin;\n\n  // setFolderButton\n  win.setFolderButton.onClick = () => {\n    const items = getSelectedItems();\n\n    const rootFolder =\n      !items || !items[0] || !isFolderItem(items[0]) ? undefined : items[0];\n\n    folders = setFolder(rootFolder);\n    if (!folders) return;\n    atFolder = folders.at;\n    compFolder = folders.comp;\n    marginFolder = folders.margin;\n\n    win.setFolderResult.text = \"ok\";\n  };\n\n  // createMarginCompButton\n  win.createMarginCompButton.onClick = () => {\n    app.beginUndoGroup(\"UHS-Author\");\n\n    createMarginComp(marginFolder);\n\n    app.endUndoGroup();\n  };\n\n  // create01CompButton\n  win.create01CompButton.onClick = () => {\n    app.beginUndoGroup(\"UHS-Author\");\n\n    create01Comp(compFolder);\n\n    app.endUndoGroup();\n  };\n\n  // createAt1CompButton\n  win.createAt1CompButton.onClick = () => {\n    app.beginUndoGroup(\"UHS-Author\");\n\n    createAtComp(atFolder);\n\n    app.endUndoGroup();\n  };\n\n  // ======\n\n  win.dialog.layout.layout();\n  win.dialog.layout.resize();\n};\n\nmain();\n"],"names":["Array","prototype","forEach","callback","thisArg","TypeError","array","i","l","length","call","every","callbackfn","T","k","O","Object","len","arguments","kValue","testResult","dialog","globalThis","text","orientation","alignChildren","spacing","margins","setFolderGroup","add","undefined","name","setFolderButton","setFolderResult","enabled","replaceMethodGroup","simpleReplaceRadio","advancedReplaceRadio","replaceNameGroup","searchInputDesc","searchInputText","preferredSize","width","replaceInputGroup","replaceInputDesc","replaceInputText","createButtonGroup","createMarginCompButton","create01CompButton","createAt1CompButton","times","step","reverse","isFolderItem","item","FolderItem","isCompItem","CompItem","isCompItems","items","getChildItem","folder","app","project","rootFolder","numItems","index","target","getSelectedItems","selection","inputBlank","setFolder","tempFolder","alert","asteriskFolder","atFolder","workFolder","sozaiFolder","compFolder","marginFolder","at","comp","margin","escapeGlob","str","replace","simpleGlobToRegexp","glob","escapedString","offsetIncrement","regexpString","match","string","offset","trueOffset","substr","test","RegExp","renameWithSimpleGlob","targetString","replaceStr","regexp","newString","createCompItem","parent","params","height","pixelAspect","duration","frameRate","newComp","addComp","getMarkers","markerProp","markers","numKeys","push","keyTime","keyValue","setMarkers","sourceProp","targetProp","_","setValueAtTime","setMarker","sourceComp","targetComp","markerProperty","layer","property","createMarginComp","targetItems","win","value","compProps","bgColor","triggerName","split","sizeName","comment","layers","selected","create01Comp","position","setValue","createAtComp","commentArray","toUpperCase","slice","join","main","folders","onClick","beginUndoGroup","endUndoGroup","layout","resize"],"mappings":"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"}