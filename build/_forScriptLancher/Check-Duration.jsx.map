{"version":3,"file":"Check-Duration.jsx","sources":["../../src/polyfill/array/forEach.js","../../src/projects/Special/CheckDuration/ui.ts","../../src/utils/Javascript/general.ts","../../src/utils/typeCheck.ts","../../src/utils/GetEntity/getEntity.ts","../../src/utils/GetEntity/getSelectedEntity.ts","../../src/utils/item.ts","../../src/projects/Special/CheckDuration/index.ts"],"sourcesContent":["/*\n * forEach Polyfill\n *\n * 2015-12-27\n *\n * By Feifei Hang, http://feifeihang.info\n * Public Domain.\n * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n */\n\"use strict\";\n(function() {\n  if (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(callback, thisArg) {\n      if (typeof callback !== \"function\") {\n        throw new TypeError(callback + \" is not a function\");\n      }\n      var array = this;\n      thisArg = thisArg || this;\n      for (var i = 0, l = array.length; i !== l; ++i) {\n        callback.call(thisArg, array[i], i, array);\n      }\n    };\n  }\n})();\n","// DIALOG\n// ======\nexport const dialog = new Window(\"dialog\");\ndialog.text = \"Check-Duration\";\ndialog.orientation = \"column\";\ndialog.alignChildren = [\"left\", \"top\"];\ndialog.spacing = 10;\ndialog.margins = 16;\n\nexport const numInput = dialog.add(\"edittext\", undefined, undefined, {\n  name: \"numInput\"\n});\n(numInput.preferredSize as Dimension).width = 60;\n\nexport const okButton = dialog.add(\"button\", undefined, undefined, {\n  name: \"ok\"\n});\nokButton.text = \"Button\";\n","import {\n  isCompItem,\n  isFolderItem,\n  isFootageItem,\n  isAVLayer,\n  isFileSource,\n  isSolidSource,\n  isProperty,\n  isPropertyGroup,\n  isObject\n} from \"../typeCheck\";\n\nexport const times = (\n  step: number,\n  callback: (index: number) => boolean | null | undefined | void,\n  reverse: boolean = false\n): void => {\n  if (reverse) {\n    for (let i = step; i > 0; i--) {\n      if (callback(i)) {\n        break;\n      } else {\n        continue;\n      }\n    }\n  } else {\n    for (let i = 1; i <= step; i++) {\n      if (callback(i)) {\n        break;\n      } else {\n        continue;\n      }\n    }\n  }\n};\n\nexport const setTimeout = (callback: () => void, time: number) => {\n  $.sleep(time);\n  callback();\n};\n\nexport const computeDurationWithMsec = (ms: number): string => {\n  const h = parseInt(String(Math.floor(ms / 3600000) + 100).substring(1));\n  const m = parseInt(\n    String(Math.floor((ms - h * 3600000) / 60000) + 100).substring(1)\n  );\n  const s = parseInt(\n    String(Math.round((ms - h * 3600000 - m * 60000) / 1000) + 100).substring(1)\n  );\n  return h + \":\" + m + \":\" + s;\n};\n","export const isFolderItem = (item: any): item is FolderItem => {\n  return item instanceof FolderItem;\n};\n\nexport const isCompItem = (item: any): item is CompItem => {\n  return item instanceof CompItem;\n};\n\nexport const isFootageItem = (item: any): item is FootageItem => {\n  return item instanceof FootageItem;\n};\n\nexport const isAVItem = (item: any): item is CompItem | FootageItem => {\n  return isCompItem(item) || isFootageItem(item);\n};\n\nexport const isAnyItem = (item: any): item is $T.ADBE.AnyItem => {\n  return isCompItem(item) || isFolderItem(item) || isFootageItem(item);\n};\n\nexport const isAVLayer = (layer: any): layer is AVLayer => {\n  return layer instanceof AVLayer;\n};\n\nexport const isCameraLayer = (layer: any): layer is CameraLayer => {\n  return layer instanceof CameraLayer;\n};\n\nexport const isLightLayer = (layer: any): layer is LightLayer => {\n  return layer instanceof LightLayer;\n};\n\nexport const isShapeLayer = (layer: any): layer is ShapeLayer => {\n  return layer instanceof ShapeLayer;\n};\n\nexport const isTextLayer = (layer: any): layer is TextLayer => {\n  return layer instanceof TextLayer;\n};\n\nexport const isAnyLayer = (layer: any): layer is $T.ADBE.AnyLayer => {\n  return (\n    isAVLayer(layer) ||\n    isCameraLayer(layer) ||\n    isLightLayer(layer) ||\n    isShapeLayer(layer) ||\n    isTextLayer(layer)\n  );\n};\n\nexport const isFileSource = (source: any): source is FileSource => {\n  return source instanceof FileSource;\n};\n\nexport const isSolidSource = (source: any): source is SolidSource => {\n  return source instanceof SolidSource;\n};\n\nexport const isPlaceholderSource = (\n  source: any\n): source is PlaceholderSource => {\n  return source instanceof PlaceholderSource;\n};\n\nexport const isAnySource = (\n  source: any\n): source is FileSource | SolidSource | PlaceholderSource => {\n  return (\n    isFileSource(source) || isSolidSource(source) || isPlaceholderSource(source)\n  );\n};\n\nexport const isProperty = (property: any): property is Property => {\n  return property instanceof Property;\n};\n\nexport const isPropertyGroup = (property: any): property is PropertyGroup => {\n  return property instanceof PropertyGroup;\n};\n\nexport const isMaskPropertyGroup = (\n  property: any\n): property is MaskPropertyGroup => {\n  return property instanceof MaskPropertyGroup;\n};\n\nexport const isAnyProperty = (\n  property: any\n): property is $T.ADBE.AnyProperty => {\n  return (\n    isProperty(property) ||\n    isPropertyGroup(property) ||\n    isMaskPropertyGroup(property)\n  );\n};\n\nexport const isTextDocument = (value: any): value is TextDocument => {\n  return value instanceof TextDocument;\n};\n\nexport const isShape = (value: any): value is Shape => {\n  return value instanceof Shape;\n};\n\nexport const isMarkerValue = (value: any): value is MarkerValue => {\n  return value instanceof MarkerValue;\n};\n\nexport const isBasicPropertyValue = (\n  value: any\n): value is $T.Mat.BasicValue => {\n  const isBasicPropertyArray =\n    isArray(value) &&\n    ((value.length === 2 && isNumber(value[0]) && isNumber(value[1])) ||\n      (value.length === 3 &&\n        isNumber(value[0]) &&\n        isNumber(value[1]) &&\n        isNumber(value[2])) ||\n      (value.length === 4 &&\n        isNumber(value[0]) &&\n        isNumber(value[1]) &&\n        isNumber(value[2]) &&\n        isNumber(value[3])));\n  return (\n    isUndefined(value) ||\n    isBoolean(value) ||\n    isNumber(value) ||\n    isBasicPropertyArray\n  );\n};\n\nexport const isPropertyValue = (value: any): value is PropertyValue => {\n  return (\n    isTextDocument(value) ||\n    isShape(value) ||\n    isMarkerValue(value) ||\n    isBasicPropertyValue(value)\n  );\n};\n\nexport const isObject = (data: any): data is { [key: string]: any } => {\n  return Object.prototype.toString.call(data) === \"[object Object]\";\n};\n\nexport const isArray = (data: any): data is any[] => {\n  return Array.isArray(data);\n};\n\nexport const isFunction = (data: any): data is Function => {\n  return typeof data === \"function\";\n};\n\nconst posinf = Number.POSITIVE_INFINITY;\nconst neginf = Number.NEGATIVE_INFINITY;\n\nexport const isNumber = (data: any): data is number => {\n  return typeof data === \"number\" && data > neginf && data < posinf;\n};\n\nexport const isUndefined = (data: any): data is undefined => {\n  return data === undefined;\n};\n\nexport const isBoolean = (data: any): data is Boolean => {\n  return data === false || data === true;\n};\n\nexport const isString = (data: any): data is string => {\n  return typeof data === \"string\";\n};\n\nexport const isCompItems = (items: any): items is CompItem[] => {\n  return items.every(isCompItem);\n};\n","import { __Error__ } from \"../initialize\";\nimport { times } from \"../Javascript/general\";\nimport {\n  isCompItem,\n  isFolderItem,\n  isFootageItem,\n  isAVLayer,\n  isFileSource,\n  isSolidSource,\n  isProperty,\n  isPropertyGroup,\n  isObject,\n  isAnyLayer,\n  isAnyProperty,\n  isMaskPropertyGroup,\n  isAnyItem,\n  isTextLayer,\n  isShapeLayer\n} from \"../typeCheck\";\nimport {} from \"../System/fileSys\";\n\nexport const getActiveItem = (): $T.ADBE.AnyItem | null => {\n  const item = app.project.activeItem;\n  return (item as $T.ADBE.AnyItem) || null;\n};\n\nexport const getActiveCompItem = (): CompItem | null => {\n  const item = getActiveItem();\n  return item instanceof CompItem ? item : null;\n};\n\nexport const getChildItems = (\n  folder: FolderItem = app.project.rootFolder,\n  callback?: (item: $T.ADBE.AnyItem) => boolean\n): $T.ADBE.AnyItem[] => {\n  const items: $T.ADBE.AnyItem[] = [];\n  times(folder.numItems, index => {\n    const item = folder.item(index) as $T.ADBE.AnyItem;\n    if (callback && !callback(item)) return;\n    items.push(item);\n  });\n  return items;\n};\n\nexport const getChildItem = (\n  folder: FolderItem = app.project.rootFolder,\n  callback?: (item: $T.ADBE.AnyItem) => boolean\n): $T.ADBE.AnyItem | null => {\n  let item: $T.ADBE.AnyItem | null = null;\n  times(folder.numItems, index => {\n    const target = folder.item(index) as $T.ADBE.AnyItem;\n    if (callback && !callback(target)) return;\n    item = target;\n    return true;\n  });\n  return item;\n};\n\nexport const findItemWithName = (\n  name: string,\n  parent: FolderItem = app.project.rootFolder\n): $T.ADBE.AnyItem | null => {\n  let item: $T.ADBE.AnyItem | null = null;\n  getChildItems(parent).forEach(current => {\n    if (current.name === name) {\n      if (isAnyItem(current)) item = current;\n      return true;\n    }\n  });\n  return item;\n};\n\nexport const findFolderItemWithName = (\n  name: string,\n  parent: FolderItem = app.project.rootFolder\n): FolderItem | null => {\n  const item = findItemWithName(name, parent);\n  if (!isFolderItem(item)) {\n    __Error__(\n      $.line,\n      `findFolderItemWithName / not found FolderItem / name: ${name} / parent: ${\n        parent.name\n      } / item: ${item ? item.name : \"null\"}`\n    );\n    return null;\n  }\n  return item;\n};\n\nexport const findCompItemWithName = (\n  name: string,\n  parent: FolderItem = app.project.rootFolder\n): CompItem | null => {\n  const item = findItemWithName(name, parent);\n  if (!isCompItem(item)) {\n    __Error__(\n      $.line,\n      `findCompItemWithName / not found CompItem / name: ${name} / parent: ${\n        parent.name\n      } / item: ${item ? item.name : \"null\"}`\n    );\n    return null;\n  }\n  return item;\n};\n\nexport const findFootageItemWithName = (\n  name: string,\n  parent: FolderItem = app.project.rootFolder\n): FootageItem | null => {\n  const item = findItemWithName(name, parent);\n  if (!isFootageItem(item)) {\n    __Error__(\n      $.line,\n      `findFootageItemWithName / not found FootageItem / name: ${name} / parent: ${\n        parent.name\n      } / item: ${item ? item.name : \"null\"}`\n    );\n    return null;\n  }\n  return item;\n};\n\nexport const findLayerWithName = (\n  name: string,\n  comp: CompItem\n): $T.ADBE.AnyLayer | null => {\n  const layer = comp.layer(name) as $T.ADBE.AnyLayer | null;\n  return layer ? layer : null;\n};\n\nexport const findAVLayerWithName = (\n  name: string,\n  comp: CompItem\n): AVLayer | null => {\n  const layer = findLayerWithName(name, comp);\n  if (!isAVLayer(layer)) {\n    __Error__(\n      $.line,\n      `findAVLayerWithName / not found AVLayer / name: ${name} / comp: ${\n        comp.name\n      } / layer: ${layer ? layer.name : \"null\"}`\n    );\n    return null;\n  }\n  return layer;\n};\n\nexport const findTextLayerWithName = (\n  name: string,\n  comp: CompItem\n): TextLayer | null => {\n  const layer = findLayerWithName(name, comp);\n  if (!isTextLayer(layer)) {\n    __Error__(\n      $.line,\n      `findTextLayerWithName / not found TextLayer / name: ${name} / comp: ${\n        comp.name\n      } / layer: ${layer ? layer.name : \"null\"}`\n    );\n    return null;\n  }\n  return layer;\n};\n\nexport const findPropertyWithName = (\n  name: string,\n  parent: $T.ADBE.AnyLayer | PropertyGroup | MaskPropertyGroup\n): $T.ADBE.AnyProperty | null => {\n  const property = parent.property(name) as $T.ADBE.AnyProperty | null;\n  return property ? property : null;\n};\n\nexport const getLayers = (\n  comp: CompItem,\n  options: {\n    fromBottom?: boolean;\n    callback?: (layer: $T.ADBE.AnyLayer) => boolean;\n  } = {}\n): $T.ADBE.AnyLayer[] => {\n  const layers: $T.ADBE.AnyLayer[] = [];\n  times(comp.numLayers, index => {\n    const layer = comp.layer(index) as $T.ADBE.AnyLayer;\n    if (options.callback && options.callback(layer)) return;\n    layers.push(layer);\n  });\n  return options.fromBottom ? layers.reverse() : layers;\n};\n\nexport const getAllItems = (callback?: (item: $T.ADBE.AnyItem) => boolean) => {\n  const items: $T.ADBE.AnyItem[] = [];\n  times(app.project.numItems, i => {\n    const item = app.project.item(i) as $T.ADBE.AnyItem;\n    if (callback && callback(item)) return;\n    items.push(item);\n  });\n  return items;\n};\n","import { getActiveItem, getActiveCompItem } from \"./getEntity\";\n\nexport const getSelectedItems = (): $T.ADBE.AnyItem[] | null => {\n  const items = app.project.selection;\n  return items[0] ? (items as $T.ADBE.AnyItem[]) : null;\n};\n\nexport const getSelectedLayers = (\n  compItem: CompItem\n): $T.ADBE.AnyLayer[] | null => {\n  const layers = compItem.selectedLayers as $T.ADBE.AnyLayer[];\n  return layers[0] ? layers : null;\n};\n\nexport const getSelectedProperties = (\n  compItem: CompItem\n): $T.ADBE.AnyProperty[] | null => {\n  const properties = compItem.selectedProperties as\n    | $T.ADBE.AnyProperty[]\n    | null;\n  return properties && properties[0] ? properties : null;\n};\n\nexport const getSelectedPropertiesFromActive = ():\n  | $T.ADBE.AnyProperty[]\n  | null => {\n  const compItem = getActiveCompItem();\n  return compItem && getSelectedProperties(compItem);\n};\n\nexport const getSelectedLayersFromActive = (): $T.ADBE.AnyLayer[] | null => {\n  const compItem = getActiveCompItem();\n  return compItem && getSelectedLayers(compItem);\n};\n","import { __Error__ } from \"./initialize\";\nimport { times } from \"./Javascript/general\";\nimport {\n  isAVLayer,\n  isCompItem,\n  isFolderItem,\n  isFootageItem,\n  isFileSource,\n  isSolidSource,\n  isObject\n} from \"./typeCheck\";\nimport { getLayers, getAllItems } from \"./GetEntity/getEntity\";\n\nexport const createFolderItem = (\n  parent: FolderItem,\n  name: string\n): FolderItem => {\n  return parent.items.addFolder(name);\n};\n\nexport const createCompItem = (\n  parent: FolderItem,\n  params: {\n    name?: string;\n    width?: number;\n    height?: number;\n    pixelAspect?: number;\n    duration?: number;\n    frameRate?: number;\n  } = {}\n): CompItem => {\n  const name = params.name || \"comp\";\n  const width = params.width || 1280;\n  const height = params.height || 720;\n  const pixelAspect = params.pixelAspect || 1.0;\n  const duration = params.duration || 1.0;\n  const frameRate = params.frameRate || 30.0;\n  const newComp = parent.items.addComp(\n    name,\n    width,\n    height,\n    pixelAspect,\n    9999.0,\n    frameRate\n  );\n  newComp.duration = duration;\n  return newComp;\n};\n\nexport const unselectAllItems = (): void => {\n  getAllItems().forEach(item => {\n    if (item.selected) item.selected = false;\n  });\n};\n","import \"../../../polyfill/array/forEach\";\nimport * as win from \"./ui\";\nimport { getAllItems } from \"../../../utils/GetEntity/getEntity\";\nimport { getSelectedItems } from \"../../../utils/GetEntity/getSelectedEntity\";\nimport { unselectAllItems } from \"../../../utils/item\";\nimport { isCompItem } from \"../../../utils/typeCheck\";\n\nconst main = () => {\n  // initialize\n  win.numInput.text = \"5\";\n\n  win.okButton.onClick = () => {\n    let items = getSelectedItems();\n    if (!items || !items[0]) {\n      items = getAllItems();\n    }\n\n    const num = parseInt(win.numInput.text, 10);\n    unselectAllItems();\n    items.forEach(item => {\n      if (!isCompItem(item)) return;\n      const frames = item.duration * item.frameRate;\n      if (frames === 1) return;\n      if (frames % num !== 0) {\n        item.selected = true;\n      }\n    });\n    win.dialog.close();\n  };\n\n  win.dialog.show();\n};\n\nmain();\n"],"names":["Array","prototype","forEach","callback","thisArg","TypeError","array","i","l","length","call","dialog","Window","text","orientation","alignChildren","spacing","margins","numInput","add","undefined","name","preferredSize","width","okButton","times","step","reverse","isCompItem","item","CompItem","getAllItems","items","app","project","numItems","push","getSelectedItems","selection","unselectAllItems","selected","main","win","onClick","num","parseInt","frames","duration","frameRate","close","show"],"mappings":"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"}